#include<stdio.h>

typedef struct {
    int rollNo;          // Student Roll Number
    char name[50];       // Student Name
    int maths, physics, chemistry, cs; // Subject Marks
    int totalMarks;      // Sum of all subjects
    float percentage;    // Percentage calculation
    char grade;          // Assigned grade (A, B, C, D, F)
} Student;


void main(){
    student std[100];
    int count;
    printf("Enter the number of student:");
    scanf("%d",&count);
    readstudent(filename,std,count);
    savestudent(std[],count);
    displayfile(std[],count)
    display(std,count);


}

void readstudent(Student std[],int*count){
    // filename=fopen("Students.txt","r");
    // if(filename==NULL){
    //     printf("Cannot read file");
    //     return;
    // }
    pritnf("Enter the %d students details:",count);
    for(int i=0;i<count;i++){
        printf("Enter student Id, Name, 4 sub marks:");
        scanf("%d%s%d%d%d%d",&std[i].rollNo,std[i].name,&std[i].maths,
            &std[i].physics,&std[i].chemistry,&std[i].cs);
    }
    // fclose(filename);
}

void display(const Student std[],int count){
    printf("Student details:");
    for(int i=0;i<count;i++){
        printf("Id-%d\n Name-%s\n Marks-%d\t%d\t%d\t%d\n",std[i].rollNo,std[i].name,
            std[i].maths,std[i].physics,std[i].chemistry,std[i].cs);
    }return;
}

void savestudent(Student std[],int count){
    FILE*file=fopen("Student_details.txt","w");
    if(filename==NULL){
        printf("Cannot read file");
        return;
        }
        for(int i=0;i<count;i++){
        fprintf(file,"%d%s%d%d%d%d",std[i].rollNo,std[i].name,std[i].maths,
            std[i].physics,std[i].chemistry,std[i].cs);
}fclose(file);
}
void displayfile(Student std[],int count){
    FILE*file=fopen("Student_details.txt","r");
    if(filename==NULL){
        printf("Cannot read file");
        return;
        }
        for(int i=0;i<count;i++){
            fscanf(file,"%d%s%d%d%d%d",&std[i].rollNo,std[i].name,&std[i].maths,
                &std[i].physics,&std[i].chemistry,&std[i].cs);
    }fclose(file);
}
